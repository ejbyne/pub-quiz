type Query {
    quizSummary(quizId: ID!): QuizSummary!
}

type Mutation {
    saveQuiz(input: QuizInput!): Boolean!
    joinQuiz(input: JoinQuizInput!): PlayerJoined!
    nextRound(input: NextRoundInput!): NextRound!
    nextQuestion(input: nextQuestionInput!): NextQuestion!
    # finishRound(quizId: ID!): Boolean!
    # nextAnswer(quizId: ID!): Boolean!
}

type Subscription {
    playerJoined(quizId: ID!): PlayerJoined
    @aws_subscribe(mutations: ["joinQuiz"])
    nextRound(quizId: ID!): NextRound
    @aws_subscribe(mutations: ["nextRound"])
    nextQuestion(quizId: ID!): NextQuestion
    @aws_subscribe(mutations: ["nextQuestion"])
#    markRound(quizId: ID!, playerName: String!): MarkingAllocation!
#    nextAnswer(quizId: ID!): Answer!
}

input QuizInput {
    quizName: String!
    rounds: [RoundInput!]!
}

input RoundInput {
    roundName: String!
    questions: [QuestionInput!]!
}

input QuestionInput {
    question: String!
    answer: String!
}

input JoinQuizInput {
    quizId: ID!
    playerName: String!
}

input NextRoundInput {
    quizId: ID!
}

input nextQuestionInput {
    quizId: ID!
}

type QuizSummary {
    quizId: ID!
    quizName: String!
    playerNames: [String!]!
    status: QuizStatus!
    currentRound: Round
    currentQuestion: Question
}

enum QuizStatus {
    NOT_YET_STARTED
    IN_PROGRESS
    FINISHED
}

type Round {
    roundNumber: Int!
    roundName: String!
    numberOfQuestions: Int!
}

type Question {
    roundNumber: Int!
    questionNumber: Int!
    text: String!
}

type PlayerJoined {
    quizId: ID!
    playerName: String!
}

type NextRound {
    quizId: ID!
    round: Round!
}

type NextQuestion {
    quizId: ID!
    question: Question!
}

#type MarkingAllocation {
#    roundNumber: Int!
#    player: String!
#}

#type Answer {
#    roundNumber: Int!
#    questionNumber: Int!
#    answer: String!
#}
